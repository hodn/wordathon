(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports=a(205)},158:function(e,t,a){},159:function(e,t,a){},197:function(e,t){},205:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=(a(158),a(159),a(45)),i=a(14),m=a(130),u=a(284),s=a(12),d=a(122),E=a(263),f=a(287),p=a(294),v=a(269),g=a(264),b=a(293),h=a(132),y=a(285),j=Object(y.a)({input:{minWidth:90,margin:5},heading:{marginBottom:10}});function O(e){var t=j(),a=Object(n.useState)(60),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(5),m=Object(s.a)(i,2),u=m[0],d=m[1],y=Object(n.useState)(12),O=Object(s.a)(y,2),w=O[0],N=O[1];return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"h6",className:t.heading}," Game settings"),r.a.createElement(E.a,{container:!0,direction:"column",spacing:1},r.a.createElement(E.a,{item:!0},r.a.createElement(g.a,{className:t.input},r.a.createElement(b.a,null,"Rounds"),r.a.createElement(f.a,{id:"roundSelect",value:u,onChange:function(e){d(e.target.value)}},r.a.createElement(p.a,{value:3},"3"),r.a.createElement(p.a,{value:5},"5"),r.a.createElement(p.a,{value:10},"10"))),r.a.createElement(g.a,{className:t.input},r.a.createElement(b.a,null,"Round time"),r.a.createElement(f.a,{id:"durationSelect",value:o,onChange:function(e){l(e.target.value)}},r.a.createElement(p.a,{value:30},"30 s"),r.a.createElement(p.a,{value:60},"60 s"),r.a.createElement(p.a,{value:90},"90 s"),r.a.createElement(p.a,{value:120},"120 s"))),r.a.createElement(g.a,{className:t.input},r.a.createElement(b.a,null,"Difficulty"),r.a.createElement(f.a,{id:"roundSelect",value:w,label:"Number of letters",onChange:function(e){N(e.target.value)}},r.a.createElement(p.a,{value:8},"Hard"),r.a.createElement(p.a,{value:12},"Normal"),r.a.createElement(p.a,{value:16},"Easy")))),r.a.createElement(E.a,{item:!0},r.a.createElement(v.a,{variant:"contained",color:"secondary",onClick:function(){return function(t,a,n){var r={roundDuration:t,numberOfRounds:a,numberOfLetters:n};e.emitStart(r)}(o,u,w)}},"Start game"))))}var w=a(271),N=a(270),k=a(273),I=a(274),R=a(272),x=a(275),S=a(134);function C(e){var t=e.room,a=function(e){return e?"bold":"normal"};return r.a.createElement(N.a,{component:S.a},r.a.createElement(w.a,{size:"small"},r.a.createElement(R.a,{style:{background:"#ff3d00"}},r.a.createElement(k.a,null,r.a.createElement(I.a,{style:{color:"white"}},"Player"),r.a.createElement(I.a,{style:{color:"white"}},"Points"))),r.a.createElement(x.a,null,function(e){var t=[];if(e)for(var a in e.players)t.push(e.players[a]);return t.sort(function(e,t){return t.points-e.points}),t}(t).map(function(t){return r.a.createElement(k.a,{key:t.ID},r.a.createElement(I.a,{style:{fontWeight:a(t.ID===e.playerID)},component:"th",scope:"row"},t.ID===e.playerID?"|":"","  ",t.name),r.a.createElement(I.a,{style:{fontWeight:a(t.ID===e.playerID)}},t.points))}))))}var D=a(99),B=a(296),W=a(295),T=Object(y.a)({chip:{color:"white",marginRight:3,marginTop:5},letterButton:{marginRight:4,marginTop:4},text:{marginTop:20,marginBottom:20},controls:{marginTop:15,marginBottom:20},controlButton:{marginRight:10},paper:{padding:10,margin:10},definition:{marginTop:30}});function L(e){var t=T(),a=e.room,c=e.socket,o=Object(n.useState)(""),l=Object(s.a)(o,2),i=l[0],m=l[1],u=Object(n.useState)(null),d=Object(s.a)(u,2),E=d[0],f=d[1],p=Object(n.useState)([]),g=Object(s.a)(p,2),b=g[0],y=g[1],j=Object(n.useState)([]),O=Object(s.a)(j,2),w=O[0],N=O[1];Object(n.useEffect)(function(){c.on("evaluationReply",function(e){f(e.definitions?e.definitions[0]:""),setTimeout(function(){return f(null)},3e3),y(function(t){return[].concat(Object(D.a)(t),[e])})})},[]),Object(n.useEffect)(function(){a.inRound||(y([]),k())},[a]);var k=function(){m(""),N([])},I=function(e){switch(e){case 1:return"#ffb74d";case 2:return"green";default:return"grey"}};return r.a.createElement("div",null,r.a.createElement(h.a,{className:t.text,variant:"h1"}," ",i||"\u3000"," "),a.roundLetters.map(function(e,n){return r.a.createElement(v.a,{className:t.letterButton,variant:"contained",key:n,disabled:w.includes(n),onClick:function(){return function(e){m("".concat(i).concat(a.roundLetters[e])),N(function(t){return[].concat(Object(D.a)(t),[e])})}(n)}},e)}),r.a.createElement("br",null),r.a.createElement("div",{className:t.controls},r.a.createElement(v.a,{className:t.controlButton,color:"secondary",variant:"contained",disabled:i.length<3||!a.inRound,onClick:function(){return function(e){c.emit("evaluateWordEntry",e),k()}(i)}}," Send "),r.a.createElement(v.a,{className:t.controlButton,color:"primary",variant:"outlined",onClick:k}," Clear ")),r.a.createElement(S.a,{className:t.paper},b.map(function(e,a){return r.a.createElement(W.a,{key:"t"+a,title:e.definitions},r.a.createElement(B.a,{className:t.chip,style:{background:I(e.result)},key:a,label:e.word}))})),r.a.createElement(S.a,{className:t.paper},r.a.createElement(h.a,{className:t.definition,variant:"body"}," ",E||"\u3000"," ")))}var G=a(292),P=a(289);function A(e){var t="https://hodn.github.io/wordathon/join/"+e.room.ID,a=r.a.useState(!1),n=Object(s.a)(a,2),c=n[0],o=n[1],l=function(){navigator.clipboard.writeText(t),o(!0),setTimeout(function(){o(!1)},2e3)};return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"h6",style:{marginBottom:10}}," Invite friends"),r.a.createElement(E.a,{container:!0,direction:"column",alignItems:"left",justifyContent:"space-between",spacing:1},r.a.createElement(E.a,{item:!0},r.a.createElement(h.a,null,r.a.createElement(G.a,{label:"Invitation link",value:t,InputProps:{readOnly:!0},variant:"filled",onClick:l,fullWidth:!0}))),r.a.createElement(E.a,{item:!0},r.a.createElement(v.a,{onClick:l,variant:"contained",color:"primary",style:{marginLeft:"auto"}},"Copy link"))),r.a.createElement(P.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c,message:"URL copied to clipboard"}))}var F=a(129);function J(e){for(var t=e.room.roundWordPool,a=[],n=0,c=Object.entries(t);n<c.length;n++){var o=c[n],l=Object(s.a)(o,2),i=l[0],m=l[1];a.push({text:i,value:m.players.length,definition:m.definition})}return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"h6",style:{marginBottom:10}},"Found words"),r.a.createElement(F.a,{words:a,callbacks:{getWordTooltip:function(e){return"".concat(e.value," player(s) - ").concat(e.definition)}},options:{rotations:1,rotationAngles:[0],fontFamily:"Helvetica"}}))}var z=a(290),H=a(279),M=a(277),U=a(278),$=a(276);function q(e){var t=e.room,a=Object(n.useState)(!0),c=Object(s.a)(a,2),o=c[0],l=c[1],i=function(e){var t=[];for(var a in e.players)t.push(e.players[a]);return t.sort(function(e,t){return t.points-e.points}),t[0]};return r.a.createElement("div",null,r.a.createElement(z.a,{open:o,onClose:function(){l(!1)}},r.a.createElement($.a,{id:"alert-dialog-title"},"Congratulations!"),r.a.createElement(M.a,null,r.a.createElement(U.a,{id:"alert-dialog-description"},t?i(t).name:"N/A"," won with ",t?i(t).points:"N/A"," points!")),r.a.createElement(H.a,null,r.a.createElement(v.a,{onClick:e.emitRestart,autoFocus:!0,variant:"contained",color:"primary"},"Restart game"))))}var K=a(280),Q=a(286),V=a(281);function X(e){var t=Object(n.useRef)();t.current=e.room;var a=Object(n.useState)(null),c=Object(s.a)(a,2),o=c[0],l=c[1],i=function(e){return e?0===e.round?0:e.inRound?1:e.inRound||e.round!==e.settings.numberOfRounds?2:3:4};return Object(n.useEffect)(function(){var e=setInterval(function(){!function(e){var t=i(e),a=null;1===t&&(a=e.roundEndTime-Date.now()),2===t&&(a=e.roundNextStart-Date.now()),l(a?(a/1e3).toFixed(0):null)}(t.current)},500);return function(){return clearInterval(e)}},[]),r.a.createElement("div",null,r.a.createElement(h.a,{variant:"body"}," ",function(e){return e&&e.settings&&e.inRound?"R (".concat(e.round,"/").concat(e.settings.numberOfRounds,") - "):void 0}(t.current)," ",function(e){switch(e){case 1:return"Time left: ";case 2:return"Next round in: ";case 3:return"Game has ended";case 4:return"Let's have some fun!";default:return"Game to be started"}}(i(t.current))," ",o>0?o:""," "))}function Y(e){return n.createElement(Q.a,{sx:{flexGrow:1},style:{marginBottom:10}},n.createElement(K.a,{position:"static"},n.createElement(V.a,null,n.createElement(l.b,{to:"/",style:{cursor:"default",color:"white",textDecoration:"none",flex:1}},n.createElement(h.a,{variant:"h4"}," Wordathon ")),n.createElement(X,{room:e.room}))))}var Z=a(282),_=Object(y.a)({card:{margin:15,padding:20},heading:{marginBottom:10}});function ee(){var e=_(),t=Object(n.useRef)(),a=Object(i.g)(),c=Object(i.f)(),o=Object(n.useState)(null),l=Object(s.a)(o,2),m=l[0],u=l[1];Object(n.useEffect)(function(){return t.current=Object(d.io)("https://secure-badlands-60547.herokuapp.com"),a.roomID&&a.playerName?(t.current.emit("registerPlayer",a.playerName),t.current.emit("joinRoom",a.roomID)):a.playerName?(t.current.emit("registerPlayer",a.playerName),t.current.emit("createRoom")):c.push("/"),t.current.on("updateRoom",function(e){u(e),console.log(e)}),function(){t.current.disconnect()}},[]);return r.a.createElement("div",null,r.a.createElement(Y,{room:m}),r.a.createElement(E.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch"},r.a.createElement(E.a,{item:!0,xs:12},m&&m.round>0&&r.a.createElement(Z.a,{className:e.card},r.a.createElement(L,{room:m,socket:t.current}))),r.a.createElement(E.a,{item:!0,xs:12},m&&m.round>0&&!m.inRound&&r.a.createElement(Z.a,{className:e.card},r.a.createElement(J,{room:m}))),r.a.createElement(E.a,{item:!0,xs:6},m&&0===m.round&&r.a.createElement(Z.a,{className:e.card},r.a.createElement(A,{room:m}))),r.a.createElement(E.a,{item:!0,xs:6},m&&0===m.round&&t.current.id===m.ownerID&&r.a.createElement(Z.a,{className:e.card},r.a.createElement(O,{room:m,emitStart:function(e){t.current.emit("startGame",e)}}))),r.a.createElement(E.a,{item:!0,xs:12},m&&r.a.createElement(Z.a,{className:e.card},r.a.createElement(h.a,{variant:"h6",className:e.heading},"Scoreboard"),r.a.createElement(C,{room:m,playerID:t.current?t.current.id:null})))),m&&m.settings.numberOfRounds===m.round&&!1===m.inRound&&r.a.createElement(q,{room:m,emitRestart:function(){t.current.emit("restartGame")}}))}var te=a(291),ae=a(283),ne=a(297),re=a(98),ce=a.n(re);function oe(){return r.a.createElement("div",null,r.a.createElement(te.a,{style:{maxWidth:"60vw"}},r.a.createElement(ne.a,{expandIcon:r.a.createElement(ce.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(h.a,null,"About")),r.a.createElement(ae.a,null,r.a.createElement(h.a,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada lacus ex, sit amet blandit leo lobortis eget."))),r.a.createElement(te.a,{style:{maxWidth:"60vw"}},r.a.createElement(ne.a,{expandIcon:r.a.createElement(ce.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},r.a.createElement(h.a,null,"Game rules")),r.a.createElement(ae.a,null,r.a.createElement(h.a,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada lacus ex, sit amet blandit leo lobortis eget."))))}function le(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",null,r.a.createElement(Y,null),r.a.createElement(E.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2},r.a.createElement(E.a,{item:!0},r.a.createElement(G.a,{id:"nickname",label:"Nickname",variant:"outlined",onChange:function(e){return o(e.target.value)}})),r.a.createElement(E.a,{item:!0},r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return function(t){e.push({pathname:"/game",playerName:t,roomdID:null})}(c)}},"Create game")),r.a.createElement(E.a,{item:!0},r.a.createElement(oe,null))))}function ie(){var e=Object(i.f)(),t=Object(i.h)().roomID,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],l=c[1];return r.a.createElement("div",null,r.a.createElement(Y,null),r.a.createElement(E.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2},r.a.createElement(E.a,{item:!0},r.a.createElement(G.a,{id:"nickname",label:"Nickname",variant:"outlined",onChange:function(e){return l(e.target.value)}})),r.a.createElement(E.a,{item:!0},r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return function(a){e.push({pathname:"/game",playerName:a,roomID:t})}(o)}},"Join game")),r.a.createElement(E.a,{item:!0},r.a.createElement(oe,null))))}var me=Object(m.a)({palette:{type:"light",primary:{main:"#1a237e"},secondary:{main:"#ff3d00"}}});var ue=function(){return r.a.createElement("div",null,r.a.createElement(u.a,{theme:me},r.a.createElement(l.a,{basename:"/wordathon"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/join/:roomID",component:ie}),r.a.createElement(i.a,{exact:!0,path:"/",component:le}),r.a.createElement(i.a,{exact:!0,path:"/game/",component:ee})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})}},[[153,1,2]]]);
//# sourceMappingURL=main.0f04f9bf.chunk.js.map